<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cyberquiz Battlefield</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Pixelify+Sans:wght@400..700&display=swap" rel="stylesheet">
  <meta name="description" content="Frontend-only cybersecurity quiz time attack game.">
  <link rel="icon" type="image/png" href="assets/halo.png">
</head>
<body>

  <div id="app" class="app">

    <!-- Name Entry Screen -->
    <section id="screen-landing" class="screen active" aria-labelledby="name-title" style="margin-top: 200px;">
      <h2 id="name-title" class="section-title">Enter Your Name, Cyberhero!</h2>
      <br>
      <form id="player-form" class="player-form" novalidate>
        <label for="player-name" class="label">Codename</label>
        <input id="player-name" name="player-name" type="text" placeholder="e.g., g00s3" required minlength="1" maxlength="24" autocomplete="name" />
        <button id="btn-start" type="submit" class="btn primary">Continue</button>
      </form>
      <br>
      <p style="text-align: center;" class="lb-note">Be creative, agent!</p>
      <!-- Crowd strip decoration -->
      <div class="crowd-strip" aria-hidden="true"></div>
      <div class="crowd-bubbles" aria-hidden="true">
        <img src="assets/please.png" alt="" class="bubble b1" />
        <img src="assets/helpus.png" alt="" class="bubble b2" />
        <img src="assets/please.png" alt="" class="bubble b3" />
        <img src="assets/helpus.png" alt="" class="bubble b4" />
        <img src="assets/please.png" alt="" class="bubble b5" />
        <img src="assets/helpus.png" alt="" class="bubble b6" />
      </div>
    </section>

    <!-- Character Select Screen -->
    <section id="screen-select" class="screen" aria-labelledby="select-title" style="margin-top: 50px;">
      <h2 id="select-title" class="section-title">Choose Your CyberRobot</h2>
      <p class="tagline">All robots are the same, it all depends on the pilot ;3</p>
      <div class="avatar-grid" role="list">
        <button class="avatar-card" data-avatar="A" role="listitem" aria-label="Avatar A">
          <div class="avatar-illus hero" aria-hidden="true"></div>
          <span class="avatar-label">fumio</span>
        </button>
        <button class="avatar-card" data-avatar="B" role="listitem" aria-label="Avatar B">
          <div class="avatar-illus hero" aria-hidden="true"></div>
          <span class="avatar-label">caTTy</span>
        </button>
        <button class="avatar-card" data-avatar="C" role="listitem" aria-label="Avatar C">
          <div class="avatar-illus hero" aria-hidden="true"></div>
          <span class="avatar-label">n3r</span>
        </button>
        <button class="avatar-card" data-avatar="D" role="listitem" aria-label="Avatar D">
          <div class="avatar-illus hero" aria-hidden="true"></div>
          <span class="avatar-label">boredd</span>
        </button>
        <button class="avatar-card" data-avatar="E" role="listitem" aria-label="Avatar E">
          <div class="avatar-illus hero" aria-hidden="true"></div>
          <span class="avatar-label">ichimon</span>
        </button>
        <button class="avatar-card" data-avatar="F" role="listitem" aria-label="Avatar F">
          <div class="avatar-illus hero" aria-hidden="true"></div>
          <span class="avatar-label">c1nn4m0n</span>
        </button>
      </div>
      <div class="btn-row">
      <button id="btn-begin-quiz" class="btn primary" type="button" disabled>Deploy Cyberhero</button>
      </div>
      <br>
      <p class="tagline">Score above 20 to defeat pr0nt0. Goodluck Agent!</p>
    </section>

    <!-- Quiz Screen -->
    <section id="screen-quiz" class="screen" aria-live="polite" style="margin-top: 50px">
      <header class="hud">
        <div class="hud-item">
          <span class="hud-label">Cyberhero</span>
          <span id="hud-name" class="hud-value">-</span>
        </div>
        <div class="hud-item">
          <span class="hud-label">Score</span>
          <span id="hud-score" class="hud-value">0</span>
        </div>
        <div class="hud-item">
          <span class="hud-label">Time</span>
          <span id="hud-timer" class="hud-value">60</span>
        </div>
      </header>

      <main class="quiz-area">
        <div class="arena stage compact" aria-label="Battle stage during quiz">
          <div class="stage-bg" aria-hidden="true"></div>
          <div class="avatar player hero idle" id="hero-quiz">
            <div class="sprite" aria-hidden="true"></div>
          </div>
          <div class="vs">VS</div>
          <div class="avatar villain bot idle" id="bot-quiz">
            <div class="sprite" aria-hidden="true"></div>
          </div>
        </div>
        <div id="question-card" class="card">
          <div id="question-text" class="question">Loading...</div>
          <ul id="options" class="options" role="list"></ul>
        </div>
        <div id="feedback" class="feedback" aria-live="assertive" aria-atomic="true"></div>
        <p id="fact-note" class="lb-note" style="text-align:center;"></p>
      </main>
    </section>

    <!-- End Screen -->
    <section id="screen-end" class="screen" aria-labelledby="end-title">
      <h2 id="end-title" class="section-title">Battle Summary</h2>
      <p class="final-score"><span id="end-message">Time's up!</span></p>
      <p class="final-score" style="color: white;">Agent <span id="end-name">-</span>, Correct Answers: <strong id="end-score">0</strong></p>

      <div class="arena stage compact" aria-label="Battle result">
        <div class="stage-bg" aria-hidden="true"></div>
        <div class="avatar player hero" id="hero-end">
          <div class="sprite" aria-hidden="true"></div>
        </div>
        <div class="vs">VS</div>
        <div class="avatar villain bot" id="bot-end">
          <div class="sprite" aria-hidden="true"></div>
        </div>
      </div>

      <div class="leaderboard card">
        <h3 class="section-subtitle">Top Agents</h3>
        <ol class="lb-list">
          <li>Nova â€” 15</li>
          <li>Ace â€” 12</li>
          <li>Rogue â€” 10</li>
          <li>Echo â€” 8</li>
          <li>You â€” <span id="lb-your-score">0</span></li>
        </ol>
        <p class="lb-note">Congratulations, cyberheroes!</p>
      </div>

      <div class="btn-row">
        <button id="btn-restart" class="btn primary" type="button">Try Again</button>
        <a class="btn" href="index.html">Menu</a>
      </div>
      <p class="tagline" style="text-align:center; margin-top:8px;">Score is auto-submitted to the leaderboard.</p>
    </section>

    <section id="screen-leaderboard" class="screen" aria-labelledby="lb-title">
      <h2 id="lb-title" class="section-title">Leaderboard</h2>
      <div class="leaderboard card">
        <h3 class="section-subtitle">Top Agents</h3>
        <ol class="lb-list">
          <li>Nova â€” 15</li>
          <li>Ace â€” 12</li>
          <li>Rogue â€” 10</li>
          <li>Echo â€” 8</li>
        </ol>
        <p class="lb-note">Future: Fetch from Google Sheets.</p>
      </div>
      
    </section>
  </div>

  <script src="questions.js"></script>
  <script src="script.js"></script>
  <!-- Volume controls -->
  <button class="vol-btn" id="btn-volume" title="Audio Settings">ðŸ”Š</button>
  <div class="vol-panel" id="panel-volume" style="display:none">
    <h4>Audio Levels</h4>
    <div class="vol-row"><label>Avatar SFX</label><input type="range" id="vol-avatar" min="0" max="1" step="0.01"></div>
    <div class="vol-row"><label>Start</label><input type="range" id="vol-start" min="0" max="1" step="0.01"></div>
    <div class="vol-row"><label>Battle BGM</label><input type="range" id="vol-battle" min="0" max="1" step="0.01"></div>
    <div class="vol-row"><label>Correct (Shoot)</label><input type="range" id="vol-shoot" min="0" max="1" step="0.01"></div>
    <div class="vol-row"><label>Wrong (Hit)</label><input type="range" id="vol-hit" min="0" max="1" step="0.01"></div>
    <div class="vol-row"><label>Victory</label><input type="range" id="vol-victory" min="0" max="1" step="0.01"></div>
    <div class="vol-row"><label>Defeat</label><input type="range" id="vol-defeat" min="0" max="1" step="0.01"></div>
  </div>
  <script>
    (function(){
      const btn = document.getElementById('btn-volume');
      const panel = document.getElementById('panel-volume');
      if (!btn || !panel) return;
      btn.addEventListener('click', ()=>{
        panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
      });
      // wire ranges to global audio in script.js
      function bind(id, getter){
        const el = document.getElementById(id); if(!el) return;
        const a = getter(); if (a) el.value = a.volume;
        el.addEventListener('input', ()=>{ const au = getter(); if(au){ au.volume = Number(el.value); }});
      }
      bind('vol-avatar', ()=> window.__sfxAvatarRef);
      bind('vol-start', ()=> window.__sfxStartRef);
      bind('vol-battle', ()=> window.__bgmBattleRef);
      bind('vol-shoot', ()=> window.__sfxShootRef);
      bind('vol-hit', ()=> window.__sfxHitRef);
      bind('vol-victory', ()=> window.__sfxVictoryRef);
      bind('vol-defeat', ()=> window.__sfxDefeatRef);
    })();
  </script>
</body>
</html>



